<odoo>
        <!-- module category competitor -->
        <record model="ir.module.category" id="module_category_competitor">
            <field name="name">Competitor</field>
            <!-- <field name="parent_id" ref="module_category_discount_and_region"/> -->
        </record>
        <record id="group_competitor_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="module_category_competitor"/>
        </record>
        
        <record id="group_competitor_manager" model="res.groups">
            <field name="name">Editor</field>
            <field name="category_id" ref="module_category_competitor"/>
            <field name="implied_ids" eval="[(4, ref('group_competitor_user'))]"/>
        </record>
        <record id="group_competitor_top_manager" model="res.groups">
            <field name="name">Top Manager</field>
            <field name="category_id" ref="module_category_competitor"/>
            <field name="implied_ids" eval="[(4, ref('group_competitor_manager'))]"/>
        </record>
        <function model="res.groups" name="_internal_user_competitor" />

    <data noupdate="0">
        <!-- rule for global rule group false -->
        <record model="ir.rule" id="global_competitor_allowed_company_rule">
            <field name="name">Competitor: Global rule </field>
            <field name="model_id" ref="sanqua_contact_competitor.model_res_partner_competitor"/>
            <field name="domain_force">['|', ('company_id','=',False),('company_id','in',company_ids)]</field>
            <field name="groups" eval="False"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>

        <!-- rule for Competitor Editor -->
        <record model="ir.rule" id="editor_competitor_default_company_rule">
            <field name="name">Competitor Editor : Manage by Default Company</field>
            <field name="model_id" ref="sanqua_contact_competitor.model_res_partner_competitor"/>
            <field name="domain_force">['|', ('company_id','=',False), ('company_id', '=', user.company_id.id)]</field>
            <field name="groups" eval="[(4, ref('sanqua_contact_competitor.group_competitor_manager'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>

        <record model="ir.rule" id="top_manager_competitor_default_company_rule">
            <field name="name">Competitor Manager : Manage by Allowed Company</field>
            <field name="model_id" ref="sanqua_contact_competitor.model_res_partner_competitor"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', [x.id for x in user.company_ids])]</field>
            <field name="groups" eval="[(4, ref('sanqua_contact_competitor.group_competitor_top_manager'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
    </data>
</odoo>