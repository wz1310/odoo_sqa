<odoo>
        <!-- module category Collection -->
        <record model="ir.module.category" id="module_category_collection_activity">
            <field name="name">Collection Activity</field>
        </record>

        <record model="ir.module.category" id="module_category_collection">
            <field name="name">Collection</field>
            <field name="parent_id" ref="module_category_collection_activity"/>
        </record>

        <record id="group_collection_collector" model="res.groups">
            <field name="name">Collector</field>
            <field name="category_id" ref="module_category_collection"/>
            <!-- <field name="implied_ids" eval="[(4, ref('sanqua_discount_target_support.discount_target_support_customer_group_user')),(4, ref('sanqua_discount_target_support.discount_target_support_master_group_user'))]"/> -->
        </record>
        <record id="group_collection_approver" model="res.groups">
            <field name="name">Approver</field>
            <field name="category_id" ref="module_category_collection"/>
            <field name="implied_ids" eval="[(4, ref('group_collection_collector'))]"/>
        </record>

        <record id="group_collection_sales_admin" model="res.groups">
            <field name="name">Sales Admin</field>
            <field name="category_id" ref="module_category_collection"/>
            <field name="implied_ids" eval="[(4, ref('group_collection_approver'))]"/>
        </record>

        <record id="group_collection_accountant" model="res.groups">
            <field name="name">Accountant</field>
            <field name="category_id" ref="module_category_collection"/>
            <field name="implied_ids" eval="[(4, ref('group_collection_sales_admin'))]"/>
        </record>

        <record id="group_collection_reviewer" model="res.groups">
            <field name="name">Reviewer</field>
            <field name="category_id" ref="module_category_collection"/>
            <field name="implied_ids" eval="[(4, ref('group_collection_accountant'))]"/>
        </record>

        <record id="group_collection_top_manager" model="res.groups">
            <field name="name">Top Manager</field>
            <field name="category_id" ref="module_category_collection"/>
            <field name="implied_ids" eval="[(4, ref('group_collection_reviewer'))]"/>
        </record>

        <!-- module category invoice Position report -->
        <record model="ir.module.category" id="module_category_invoice_position_report">
            <field name="name">Invoice Position Report</field>
            <field name="parent_id" ref="module_category_collection_activity"/>
        </record>

        <record id="group_invoice_position_report" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="module_category_invoice_position_report"/>
        </record>

    <data>
        <!-- rule report global allowed company -->
        <record model="ir.rule" id="rule_invoice_position_report_global">
            <field name="name">Invoice Position Report: Global Allowed-company only </field>
            <field name="model_id" ref="invoice_collection.model_report_invoice_position"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', [x.id for x in user.company_ids])]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_invoice_position_report'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_create" eval="False"/>
        </record>

        <!-- rule group Collector -->
        <record model="ir.rule" id="rule_collection_activity_group_collector_own">
            <field name="name">Collection Activity: Documents followed by Collector Only </field>
            <field name="model_id" ref="invoice_collection.model_collection_activity"/>
            <field name="domain_force">[('message_partner_ids','in',user.partner_id.ids)]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_collection_collector'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_create" eval="False"/>
        </record>

        <!-- rule group Approver -->
        <record model="ir.rule" id="rule_collection_activity_group_approver_own">
            <field name="name">Collection Activity: Documents followed by Approver Only </field>
            <field name="model_id" ref="invoice_collection.model_collection_activity"/>
            <field name="domain_force">[('id','in',user.doc_as_approver('collection.activity'))]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_collection_approver'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_create" eval="False"/>
        </record>

        <!-- rule group Sales Admin -->
        <record model="ir.rule" id="rule_collection_activity_group_sales_admin_own">
            <field name="name">Collection Activity: Own-company only </field>
            <field name="model_id" ref="invoice_collection.model_collection_activity"/>
            <field name="domain_force">[('company_id', '=', user.company_id.id)]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_collection_sales_admin'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>

        <!-- rule group Reviewer -->
        <record model="ir.rule" id="rule_collection_activity_group_reviewer_own">
            <field name="name">Collection Activity: Own-company only </field>
            <field name="model_id" ref="invoice_collection.model_collection_activity"/>
            <field name="domain_force">[('company_id', '=', user.company_id.id)]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_collection_reviewer'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_create" eval="False"/>
        </record>

        <!-- rule group Top Manager -->
        <record model="ir.rule" id="rule_collection_activity_group_top_manager_allowed">
            <field name="name">Collection Activity: Allowed-company only </field>
            <field name="model_id" ref="invoice_collection.model_collection_activity"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', [x.id for x in user.company_ids])]</field>
            <field name="groups" eval="[(4, ref('invoice_collection.group_collection_top_manager'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
    </data>
</odoo>