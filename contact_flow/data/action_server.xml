<odoo>
    <record id="action_server_contact_change_request_delete_expired" model="ir.actions.server">
        <field name="name">Delete Expired Waiting Approval</field>
        <field name="model_id" ref="model_contact_change_request"/>
        <field name="binding_model_id" ref="model_contact_change_request" />
        <field name="state">code</field>
        <field name="code">
            if records:
                expired_records = records.filtered(lambda r:r.request_approval_expired==True)
                approvals = expired_records.mapped('approval_ids')
                if len(approvals):
                    approvals.sudo().unlink()
                expired_records.unlink()
        </field>
    </record>

    <!-- cron job -->

    <record model="ir.cron" id="cron_auto_delete_expired_waiting_approval_contact_change_request">
        <field name="name">Auto Delete Contact Change Request (ON Expired)</field>
        <field name="model_id" ref="model_contact_change_request" />
        <field name="numbercall" eval="1"/>
        <field name="user_id" eval="1"/>
        <field name="interval_type">days</field>
        <field name="interval_number" eval="1"/>
        <field name="active" eval="False"/>
        <!-- <field name="doall" eval="False"/> -->
        <!-- <field name="priority" eval="9"/> -->
        <field name="state">code</field>
        <field name="code"># Example:
if records:
    expired_records = records.filtered(lambda r:r.request_approval_expired==True)
    approvals = expired_records.mapped('approval_ids')
    if len(approvals):
        approvals.sudo().unlink()
    expired_records.unlink()
        </field>
    </record>
</odoo>