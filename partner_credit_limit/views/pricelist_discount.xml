<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record model="ir.ui.view" id="pricelist_discount_view_search">
            <field name="name">pricelist.discount.search</field>
            <field name="model">pricelist.discount</field>
            <field name="arch" type="xml">
                <search string="Discount Price Search">
                    <field name="name" string="Products Discount"/>
                    <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>


        <record id="pricelist_discount_view_tree" model="ir.ui.view">
            <field name="name">pricelist.discount.tree</field>
            <field name="model">pricelist.discount</field>
            <field name="arch" type="xml">
                <tree string="Discount Price List">
                    <field name="sequence" widget="handle" />
                    <field name="name"/>
                    <field name="compute_price"/>
                    <field name="base_pricelist_discount_id"/>
                </tree>
            </field>
        </record>

        <record id="pricelist_discount_form_view" model="ir.ui.view">
            <field name="name">pricelist.discount.form.view</field>
            <field name="model">pricelist.discount</field>
            <field name="arch" type="xml">
                <form string="Discount Price List">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object"
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                    options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="e.g. Discount ....."/></h1>
                        </div>
                        <separator string="Price Computation"/>
                        <group>
                            <group>
                                <label for="compute_price" string="Compute Price"/>
                                <div>
                                    <field name="compute_price" widget="radio"/>
                                    <div attrs="{'invisible':[('compute_price', '!=', 'fixed')]}">
                                        <field name="fixed_price" nolabel= "1" placeholder="100000"/></div>
                                    <div attrs="{'invisible':[('compute_price', '!=', 'percentage')]}">
                                        <field name="percent_price" nolabel="1" class="oe_inline" placeholder="10+5+2"/>
                                    </div>
                                    <div attrs="{'invisible':[('compute_price', '!=', 'other')]}">
                                        <field name="base_pricelist_discount_id" nolabel="1" class="oe_inline"/>
                                        <div>
                                            <label for="other_compute_price" string="Compute Price"/>
                                            <field name="other_compute_price" widget="radio"/>
                                            <div attrs="{'invisible':[('other_compute_price', '!=', 'fixed')]}">
                                                <field name="fixed_price" nolabel= "1" placeholder="100000"/></div>
                                            <div attrs="{'invisible':[('other_compute_price', '!=', 'percentage')]}">
                                                <field name="percent_price" nolabel="1" class="oe_inline" placeholder="10+5+2"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="pricelist_discount_action2" model="ir.actions.act_window">
            <field name="name">Discount Pricelists</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pricelist.discount</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="pricelist_discount_view_search" />
            <field name="context">{"default_base":'list_price'}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new discount pricelist
              </p><p>
                A discount price is a set of sales prices or rules to compute the price of sales order lines based on products, product categories, dates and ordered quantities.
                This is the perfect tool to handle several pricings, seasonal discounts, etc.
              </p><p>
                You can assign pricelists to your customers or select one when creating a new sales quotation.
              </p>
            </field>
        </record>

    </data>

    <menuitem id="sub_menu_discount_pricelist" name="Discount Pricelist" parent="sale.product_menu_catalog" sequence="10" action="pricelist_discount_action2"/>

</odoo>
