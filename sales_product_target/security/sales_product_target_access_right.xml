<odoo>
        <record model="ir.module.category" id="module_category_sales_user_target">
            <field name="name">Sales Product Target</field>
            <field name="parent_id" ref="base.module_category_sales"/>
        </record>

        <record model="res.groups" id="group_sales_user_target_user">
            <field name="name">User</field>
            <field name="category_id" ref="module_category_sales_user_target"/>
        </record>
        <record model="res.groups" id="group_sales_user_target_manager">
            <field name="name">Manager</field>
            <field name="category_id" ref="module_category_sales_user_target"/>
            <field name="implied_ids" eval="[(4, ref('group_sales_user_target_user'))]"/>
        </record>

    <data noupdate="0">
		<function model="res.groups" name="_internal_user_sales_product_target" />

        <record model="ir.rule" id="rule_sales_user_target_user">
            <field name="name">Rule Global User</field>
            <field name="model_id" ref="model_sales_user_target" />
            <field name="perm_read" eval="True" />
            <field name="perm_create" eval="False" />
            <field name="perm_write" eval="False" />
            <field name="perm_unlink" eval="False" />
            <field name="domain_force">['|', ('company_id','=',False),('company_id','in',company_ids)]</field>
        </record>

        <record model="ir.rule" id="rule_sales_user_target_line_user">
            <field name="name">Rule Global User</field>
            <field name="model_id" ref="model_sales_user_target_line" />
            <field name="perm_read" eval="True" />
            <field name="perm_create" eval="False" />
            <field name="perm_write" eval="False" />
            <field name="perm_unlink" eval="False" />
            <field name="domain_force">['|', ('company_id','=',False),('company_id','in',company_ids)]</field>
        </record>

        
        <record model="ir.rule" id="rule_sales_user_target_manager">
            <field name="name">Sales Product Target: Manage by Own-Company</field>
            <field name="model_id" ref="sales_product_target.model_sales_user_target"/>
            <field name="domain_force">[('company_id', '=', user.company_id.id)]</field>
            <field name="groups" eval="[(4, ref('sales_product_target.group_sales_user_target_manager'))]"/> 
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="active" eval="False"/>
        </record>
    </data>
</odoo>