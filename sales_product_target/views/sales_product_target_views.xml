<odoo>
    <record id="sales_user_target_view_form" model="ir.ui.view">
        <field name="name">sales.user.target.view.form</field>
        <field name="model">sales.user.target</field>
        <field name="arch" type="xml">
            <form string="Sales Product Target">
                <header>
                    <button name="btn_done" type="object" string="Done"  class="btn-primary" attrs="{'invisible':[('state','not in',['draft'])]}" groups="sales_product_target.group_sales_user_target_user"/>
                    <button name="btn_draft" type="object" string="Set to Draft"  attrs="{'invisible':[('state','not in',['done'])]}" groups="sales_product_target.group_sales_user_target_manager"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,done" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="team_id" options="{'no_quick_create':True,'no_create':True}" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                            <field name="user_id" options="{'no_quick_create':True,'no_create':True}" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        </group>
                        <group>
                            <field name="year" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                            <field name="month" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                            <field name="hari_kerja" attrs="{'readonly':[('state','not in',['draft'])]}" required="1"/>
                            <field name="company_id" options="{'no_quick_create':True,'no_create':True}" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Sales Product Target Line">
                            <field name="line_ids" attrs="{'readonly':[('state','not in',['draft'])]}">
                                <tree editable="bottom">
                                    <field name="target_id" invisible="1"/>
                                    <field name="team_id"  optional="hide" options="{'no_quick_create':True,'no_create':True}"/>
                                    <field name="user_id" readonly="1"/>
                                    <field name="partner_id" optional="show" options="{'no_quick_create':True,'no_create':True}" required="1" domain="[('customer','=',True),('state','=','approved')]"/>
                                    <field name="region_master_id" readonly="1"/>
                                    <field name="region_id" readonly="1"/>
                                    <field name="customer_group_id" optional="show" options="{'no_quick_create':True,'no_create':True}" required="1"/>
                                    <field name="product_id" options="{'no_quick_create':True,'no_create':True}"/>
                                    <field name="qty"/>
                                    <field name="currency_id" optional="hide"/>
                                    <field name="amount"/>
                                    <field name="company_id" optional="hide"/>
                                </tree>
                                <form>
                                    <sheet>
                                        <group>
                                            <group>
                                                <field name="target_id"/>
                                                <field name="team_id" options="{'no_quick_create':True,'no_create':True}"/>
                                                <field name="partner_id" required="1" domain="[('customer','=',True),('state','=','approved')]"/>
                                                <field name="product_id"/>
                                                <field name="qty"/>
                                            </group>
                                            <group>
                                                <field name="currency_id"/>
                                                <field name="amount"/>
                                                <field name="company_id"/>
                                            </group>
                                        </group>
                                    </sheet>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
				    <field name="message_follower_ids" widget="mail_followers"/>
				    <field name="activity_ids" widget="mail_activity"/>
				    <field name="message_ids" widget="mail_thread"/>
				</div>
            </form>
        </field>
    </record>

    <record id="sales_user_target_view_tree" model="ir.ui.view">
        <field name="name">sales.user.target.view.tree</field>
        <field name="model">sales.user.target</field>
        <field name="arch" type="xml">
            <tree string="Sales Product Target">
                <field name="team_id"/>
                <field name="user_id"/>
                <field name="year"/>
                <field name="month"/>
                <field name="company_id"/>
            </tree>
        </field>
    </record>

    <record id="sales_user_target_search" model="ir.ui.view">
        <field name="name">Sales Product Target Search</field>
        <field name="model">sales.user.target</field>
        <field name="arch" type="xml">
            <search string="Search">
                <field name="team_id" string="Division"/>
                <field name="user_id" string="Salesperson"/>
            </search>
        </field>
    </record>

    <record id="sales_user_target_action" model="ir.actions.act_window">
        <field name="name">Sales Product Target</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sales.user.target</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Create a new Sales Product Target.
            </p>
        </field>
    </record>
    
    <menuitem
        id="menu_sales_user_target"
        name="Sales Product Target"
        action="sales_user_target_action"
        parent="sale.menu_sale_config"
        sequence="2"/>


    <record id="sales_user_target_line_view_tree" model="ir.ui.view">
        <field name="name">sales.user.target.line.view.tree</field>
        <field name="model">sales.user.target.line</field>
        <field name="arch" type="xml">
            <tree string="Sales Product Target Detail" create="false" edit="false">
                <field name="team_id"/>
                <field name="year"/>
                <field name="month"/>
                <field name="user_id"/>
                <field name="partner_id"/>
                <field name="region_master_id"/>
                <field name="region_id"/>
                <field name="customer_group_id"/>
                <field name="product_id"/>
                <field name="qty"/>
                <field name="amount"/>
            </tree>
        </field>
    </record>

    <record id="sales_user_target_line_search" model="ir.ui.view">
        <field name="name">Sales Product Target Line Search</field>
        <field name="model">sales.user.target.line</field>
        <field name="arch" type="xml">
            <search string="Search">
                <field name="partner_id" string="Customer"/>
                <field name="customer_group_id" string="Group"/>
                <field name="user_id" string="Salesperson"/>
                <field name="region_master_id" string="Area"/>
                <field name="region_id" string="Region"/>
            </search>
        </field>
    </record>

    <record id="sales_user_target_line_action" model="ir.actions.act_window">
        <field name="name">Sales Product Target Line</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sales.user.target.line</field>
        <field name="view_mode">tree</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Create a new Sales Product Target.
            </p>
        </field>
    </record>

    <menuitem
        id="menu_sales_user_target_line"
        name="Sales Product Target Detail"
        action="sales_user_target_line_action"
        parent="sale.menu_sale_config"
        sequence="3"/>

</odoo>